(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4c0a9b66"],{"2ea9":function(t,e,l){},"4bb5":function(t,e,l){"use strict";var i=l("2ea9");l.n(i).a},c495:function(t,e,l){"use strict";l.r(e),l("33c4"),l("c1b0");var i=l("b54b"),a=l("08c1"),n=l("26a1"),s={data:function(){return{prev_image:"",multipleSelection:[]}},computed:Object(i.a)({},Object(a.e)(["imgList","typeLabelList"])),component:{},mounted:function(){this.menuBtns=Object(n.b)("#menuExtend",this.$refs.sa)},beforeDestroy:function(){this.menuBtns.remove()},methods:Object(i.a)({},Object(a.d)(["ADD_IMAGE_LIST"]),{},Object(a.c)(["getTypeLabelList"]),{},Object(a.b)(["ADD_BOXLIST_ITEM","CREATE_LUNBO_ITEM"]),{handleRemove:function(t){var e=t.$index;this.imgList.splice(e,1)},handleRemoveUpload:function(t){var e=this.imgList.findIndex((function(e){return e.url==t.url}));this.imgList.splice(e,1)},createMultipleBlock:function(){var t=this;this.ADD_BOXLIST_ITEM({data:this.multipleSelection}),setTimeout((function(){t.$router.push({path:"/box/block"})}),100)},createLunbo:function(){this.CREATE_LUNBO_ITEM({imgList:this.multipleSelection})},hand:function(){},cellClick:function(t){this.prev_image=t.url},handleSelectionChange:function(t){this.multipleSelection=t},handelSuccess:function(t){200==t.code&&(t.data.url="/api"+t.data.url,this.ADD_IMAGE_LIST(t.data))}})},o=(l("4bb5"),l("623f")),c=Object(o.a)(s,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticStyle:{width:"100%",height:"100%"}},[l("div",{ref:"sa",attrs:{jSlot:""}},[t.multipleSelection.length?l("el-button",{on:{click:t.createMultipleBlock}},[t._v("创建区域板块")]):t._e(),t.multipleSelection.length?l("el-button",{on:{click:t.createLunbo}},[t._v("创建轮播板块")]):t._e()],1),l("split-pane",{staticClass:"panel-container fullSize",attrs:{"min-percent":20,"default-percent":30,split:"vertical"}},[l("div",{staticClass:"fullSize",attrs:{slot:"paneL"},slot:"paneL"},[l("split-pane",{staticClass:"fullSize",attrs:{"min-percent":20,"default-percent":30,split:"horizontal"}},[l("div",{staticClass:"panel vertical flex-center",attrs:{slot:"paneL"},slot:"paneL"},[l("swiper",{staticStyle:{width:"100%",height:"100%"},attrs:{options:{zoom:!0}}},[l("swiper-slide",{staticStyle:{width:"100%",height:"100%"}},[l("div",{staticClass:"swiper-zoom-container"},[t.prev_image?l("img",{staticStyle:{"max-height":"100%","max-width":"100%"},attrs:{src:t.prev_image}}):l("span",[t._v("图片预览")])])])],1)],1),l("div",{staticClass:"panel vertical",attrs:{slot:"paneR"},slot:"paneR"},[l("el-upload",{staticClass:"upload-demo",attrs:{action:"/api/api/action/upload",multiple:"","list-type":"picture-card","on-success":t.handelSuccess,"file-list":t.imgList,"on-remove":t.handleRemoveUpload}},[l("i",{staticClass:"el-icon-plus"}),l("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])])],1)])],1),l("div",{staticClass:"fullSize",attrs:{slot:"paneR"},slot:"paneR"},[l("el-table",{staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"",stripe:"",data:t.imgList,height:"100%"},on:{"cell-click":t.cellClick,"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{align:"center",type:"selection",width:"40"}}),l("el-table-column",{attrs:{prop:"url",label:"图片",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(t){return[l("el-image",{staticStyle:{width:"100%",height:"20px"},attrs:{src:t.row.url,fit:"scale-down"}})]}}])}),l("el-table-column",{attrs:{prop:"type",align:"center",label:"应用范围",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.row.type,callback:function(l){t.$set(e.row,"type",l)},expression:"scope.row.type"}},[t._l(t.typeLabelList.values(),(function(e){return l("el-option",{key:e.value,attrs:{value:e.value,label:e.label}},[l("i",{class:e.icon}),t._v(" "+t._s(e.label)+"板块 ")])})),l("el-option",{attrs:{value:"all",label:"全部板块"}},[l("i",{staticClass:"el-icon-finished"}),t._v(" 全部板块 ")])],2)]}}])}),l("el-table-column",{attrs:{align:"left",prop:"remark",label:"备注",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-input",{attrs:{type:"textarea",rows:1},model:{value:e.row.remark,callback:function(l){t.$set(e.row,"remark",l)},expression:"scope.row.remark"}})]}}])}),l("el-table-column",{attrs:{align:"center",prop:"width",width:"70","show-overflow-tooltip":"",label:"宽度"}}),l("el-table-column",{attrs:{align:"center",prop:"height",width:"70","show-overflow-tooltip":"",label:"高度"}}),l("el-table-column",{attrs:{prop:"create_time","show-overflow-tooltip":"",label:"上传时间",align:"center"}}),l("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return t.handleClick(e.row)}}},[t._v("查看")]),l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){return t.handleRemove(e)}}},[t._v("移除")])]}}])})],1)],1)])],1)}),[],!1,null,"40a679dc",null);e.default=c.exports}}]);