(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-029f4be6"],{"55e6":function(t,e,r){},"63ff":function(t,e,r){var i=function(t){"use strict";var e,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function l(t,e,r,i){var n,o,a,c,l=e&&e.prototype instanceof v?e:v,m=Object.create(l.prototype),b=new S(i||[]);return m._invoke=(n=t,o=r,a=b,c=u,function(t,e){if(c===f)throw new Error("Generator is already running");if(c===p){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var r=a.delegate;if(r){var i=_(r,a);if(i){if(i===d)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===u)throw c=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=f;var l=s(n,o,a);if("normal"===l.type){if(c=a.done?p:h,l.arg===d)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(c=p,a.method="throw",a.arg=l.arg)}}),m}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u="suspendedStart",h="suspendedYield",f="executing",p="completed",d={};function v(){}function m(){}function b(){}var g={};g[o]=function(){return this};var y=Object.getPrototypeOf,w=y&&y(y(A([])));w&&w!==r&&i.call(w,o)&&(g=w);var x=b.prototype=v.prototype=Object.create(g);function k(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function L(t){var e;this._invoke=function(r,n){function o(){return new Promise((function(e,o){!function e(r,n,o,a){var c=s(t[r],t,n);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then((function(t){e("next",t,o,a)}),(function(t){e("throw",t,o,a)})):Promise.resolve(u).then((function(t){l.value=t,o(l)}),(function(t){return e("throw",t,o,a)}))}a(c.arg)}(r,n,e,o)}))}return e=e?e.then(o,o):o()}}function _(t,r){var i=t.iterator[r.method];if(i===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=s(i,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,d;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,d):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function A(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(i.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:E}}function E(){return{value:e,done:!0}}return m.prototype=x.constructor=b,b.constructor=m,b[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(L.prototype),L.prototype[a]=function(){return this},t.AsyncIterator=L,t.async=function(e,r,i,n){var o=new L(l(e,r,i,n));return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(x),x[c]="Generator",x[o]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var i=e.pop();if(i in t)return r.value=i,r.done=!1,r}return r.done=!0,r}},t.values=A,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(i,n){return c.type="throw",c.arg=t,r.next=i,n&&(r.method="next",r.arg=e),!!n}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var i=r.completion;if("throw"===i.type){var n=i.arg;I(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,i){return this.delegate={iterator:A(t),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}},"6dc9":function(t,e,r){"use strict";r.r(e),r("7ae7"),r("09ee"),r("33c4"),r("af82"),r("1a8c"),r("c1b0"),r("c354"),r("e481"),r("3a20"),r("ef8e"),r("9a14"),r("252a");var i=r("0bbb"),n=r("b54b");function o(t,e,r,i,n,o,a){try{var c=t[o](a),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(i,n)}r("63ff"),r("c9db");var a=r("08c1"),c=r("f756"),l={data:function(){return{selectorVisible:!1,itemList:[],showTable2All:!1,dataQueryCate:"",tableProps:{height:400,style:"font-size:10px;line-height:10px;",size:"mini",border:!0},searchInputProps:{size:"mini",clearable:!0,prefixIcon:"el-icon-search",placeholder:"请输入商品ID搜索","highlight-current-row":!0},dataQueryString:"",pickedSearch:"",tableLoading:!0,cateList:[{label:"苹果",value:"apple"},{label:"小米",value:"xiaomi"},{label:"华为",value:"huawei",children:[{label:"手机",value:"phone"}]}],searchList:[],pickedList:new Map,curPage:1,limit:20,total:0}},watch:{curPage:function(){this.fetchList2()},limit:function(){this.fetchList2()},dataQueryString:function(){this.fetchList2()}},methods:{handleMutilpleCheck:function(){var t=this,e=this.$refs.table1;e.selection.forEach((function(e){t.boxActiveItem.listDetail.push(e)})),this.fetchList2(),this.$message.success("成功添加".concat(e.selection.length,"件商品")),this.$refs.table1.clearSelection()},cellClick:function(t,e){"操作"==e.label||t.checked||this.$refs.table1.toggleRowSelection(t)},closeSelector:function(){this.curPage=1},openDialog:function(){this.selectorVisible=!0,this.fetchList2()},fetchList2:function(){var t=this,e=this.dataQueryCate[0];Object(c.a)({brand:e,limit:this.limit,curPage:this.curPage,queryString:this.dataQueryString}).then((function(e){t.total=e.data.total,t.searchList=e.data.data.map((function(e){var r=t.itemConstructor(e);return r.checked=!!t.boxActiveItem.listDetail.find((function(t){return t.key==r.key})),r}))}))},handleTableCheck:function(t,e){this.searchList.find((function(e){return e.key==t})).checked=e},handleCheck:function(t){t.checked=!0,this.boxActiveItem.listDetail.unshift(t),this.$message.success("添加商品:【 ".concat(t.label," 】"))},handleDelete:function(t){var e,r=this;return e=regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.boxActiveItem.listDetail.findIndex((function(e){return e.key==t.key})),r.boxActiveItem.listDetail.splice(i,1),r.$message.success("删除商品:【 ".concat(t.label," 】")),r.fetchList2();case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(i,n){var a=e.apply(t,r);function c(t){o(a,i,n,c,l,"next",t)}function l(t){o(a,i,n,c,l,"throw",t)}c(void 0)}))}()},itemConstructor:function(t){return{key:t.skuId,label:t.name,img:t.img,price:t.price,_id:t._id}}},computed:Object(n.a)({dataList:function(){return[].concat(Object(i.a)(this.searchList),Object(i.a)(this.pickedList.values()))}},Object(a.c)(["boxActiveItem","boxActiveID"]))},s=(r("cd91"),r("623f")),u=Object(s.a)(l,(function(){var t=this,e=this,r=e.$createElement,i=e._self._c||r;return i("div",[i("h3",{staticClass:"form-title"},[e._v("列表选择")]),i("div",{staticClass:"form-item",attrs:{label:"商品选择"}},[i("el-button",{on:{click:function(t){return e.openDialog()}}},[e._v("挑选项目")]),e.boxActiveItem.listDetail.length?i("span",{staticClass:"label"},[e._v(" 已选 "),i("b",[e._v(e._s(e.boxActiveItem.listDetail.length))]),e._v(" 件商品 ")]):i("span",{staticClass:"important label"},[e._v("请先选择商品")]),i("el-dialog",{attrs:{title:"商品选择器",top:"5vh","append-to-body":"","lock-scroll":"","custom-class":"custom-dialog-1",visible:e.selectorVisible,width:"70vw"},on:{"update:visible":function(t){e.selectorVisible=t},close:e.closeSelector}},[i("div",{staticClass:"itemPickerContainer"},[i("el-row",{attrs:{type:"flex",justify:"space-between",align:"center"}},[i("el-container",{staticStyle:{width:"50%"}},[i("el-header",{attrs:{height:"20"}},[i("el-row",{attrs:{type:"flex",justify:"space-between"}},[i("el-col",{attrs:{span:12}},[e._v("商品列表")]),i("el-col",{attrs:{span:12}},[i("el-row",{attrs:{type:"flex"}},[i("el-input",e._b({model:{value:e.dataQueryString,callback:function(t){e.dataQueryString=t},expression:"dataQueryString"}},"el-input",e.searchInputProps,!1))],1)],1)],1)],1),i("el-main",[i("el-table",e._b({ref:"table1",attrs:{data:e.searchList},on:{"row-click":e.cellClick}},"el-table",e.tableProps,!1),[i("el-table-column",{attrs:{type:"selection",width:"35",selectable:function(t,e){return!t.checked}}}),i("el-table-column",{attrs:{fixed:"",prop:"key",label:"商品ID","show-overflow-tooltip":"",width:"100"}}),i("el-table-column",{attrs:{prop:"img",label:"图片",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{directives:[{name:"preview",rawName:"v-preview.medium",value:t.row.img,expression:"scope.row.img",modifiers:{medium:!0}}],attrs:{src:t.row.img,width:"30",alt:""}})]}}])}),i("el-table-column",{attrs:{prop:"label",label:"商品标题","show-overflow-tooltip":"",width:"auto"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[i("el-button",{attrs:{disabled:r.checked,type:"text",size:"small"},on:{click:function(t){return t.stopPropagation(),e.handleCheck(r)}}},[r.checked?i("span",{staticStyle:{color:"#38e529"}},[e._v("已加")]):i("span",[e._v("添加")])])]}}])})],1)],1)],1),i("el-container",{staticStyle:{width:"50%"}},[i("el-header",{attrs:{height:"20"}},[i("el-row",{attrs:{type:"flex",justify:"space-between"}},[i("el-col",{attrs:{span:12}},[e._v("已选商品")]),i("el-col",{attrs:{span:12}},[i("el-input",e._b({model:{value:e.pickedSearch,callback:function(t){e.pickedSearch=t},expression:"pickedSearch"}},"el-input",e.searchInputProps,!1))],1)],1)],1),i("el-main",[i("el-table",e._b({attrs:{data:e.boxActiveItem.listDetail.filter((function(r,i){return(!e.pickedSearch||r.key.toLowerCase().includes(e.pickedSearch.toLowerCase()))&&(t.showTable2All?0<i:i<10)})),"empty-text":"未选择商品，请先选择商品！"}},"el-table",e.tableProps,!1),[i("el-table-column",{attrs:{fixed:"",prop:"key",label:"商品ID","show-overflow-tooltip":"",width:"100"}}),i("el-table-column",{attrs:{prop:"img",label:"图片",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.img,width:"30",alt:""}})]}}])}),i("el-table-column",{attrs:{prop:"label",label:"商品标题","show-overflow-tooltip":"",width:"auto"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1)],1)],1),i("el-row",{staticStyle:{padding:"10px"},attrs:{type:"flex",justify:"space-between",align:"center"}},[i("el-col",{attrs:{span:18}},[i("el-pagination",{attrs:{small:"",background:"","current-page":e.curPage,"page-sizes":[10,20,30,40,50,100],"page-size":e.limit,layout:"total, prev, pager, next, sizes",total:e.total},on:{"size-change":function(t){return e.limit=t},"current-change":function(t){return e.curPage=t}}})],1),i("el-col",{attrs:{span:6,align:"right"}},[i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleMutilpleCheck}},[e._v("多选添加")]),e._v(" 总计："+e._s(e.boxActiveItem.listDetail.length)+" 件 ")],1)],1)],1)])],1),i("h3",{staticClass:"form-title"},[e._v("列表配置")]),i("div",{staticClass:"form-item",attrs:{label:"列表方向"}},[i("el-switch",{attrs:{"inactive-value":"vertical","active-value":"horizontal","active-text":"横向排列","inactive-text":"竖向排列","active-color":"rgb(92,134,255)","inactive-color":"rgb(92,176,255)"},model:{value:e.boxActiveItem.listConfig.direction,callback:function(t){e.$set(e.boxActiveItem.listConfig,"direction",t)},expression:"boxActiveItem.listConfig.direction"}})],1),"vertical"==e.boxActiveItem.listConfig.direction?i("div",{staticClass:"form-item",attrs:{label:"每行个数"}},[i("el-input-number",{attrs:{size:"mini",min:1,max:5,label:"描述文字"},model:{value:e.boxActiveItem.listConfig.rowLimit,callback:function(t){e.$set(e.boxActiveItem.listConfig,"rowLimit",t)},expression:"boxActiveItem.listConfig.rowLimit"}})],1):e._e(),i("div",{staticClass:"form-item",attrs:{label:"加载模式"}},[i("el-switch",{attrs:{"active-text":"开启懒加载","inactive-text":"关闭懒加载","active-color":"rgb(92,134,255)","inactive-color":"rgb(92,176,255)"},model:{value:e.boxActiveItem.listConfig.lazy,callback:function(t){e.$set(e.boxActiveItem.listConfig,"lazy",t)},expression:"boxActiveItem.listConfig.lazy"}})],1)])}),[],!1,null,null,null);e.default=u.exports},cd91:function(t,e,r){"use strict";var i=r("55e6");r.n(i).a}}]);